(function(t){function e(e){for(var s,n,l=e[0],i=e[1],c=e[2],u=0,h=[];u<l.length;u++)n=l[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&h.push(r[n][0]),r[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);d&&d(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=i;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0335":function(t,e,a){},"0661":function(t,e,a){"use strict";a("0335")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=a("7496"),o=a("40dc"),n=a("132d"),l=a("f6c4"),i=a("2fa4"),c=function(){var t=this,e=t._self._c;return e(r["a"],[e(o["a"],{attrs:{app:"",color:"primary darken-1",dark:""}},[e("div",{staticClass:"d-flex align-center"},[e(n["a"],{attrs:{left:""}},[t._v(" mdi-lightning-bolt ")]),e("h2",[t._v("Multimeter Output GUI")])],1),e(i["a"])],1),e(l["a"],[e("Main")],1)],1)},d=[],u=a("8336"),h=a("8fea"),f=a("b974"),p=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"wrapper"}},[e("div",{staticClass:"d-flex tableBar rounded"},[e(n["a"],{staticClass:"searchIcon",attrs:{slot:"prependIcon",color:"black"},slot:"prependIcon"},[t._v("mdi-magnify")]),t._m(0),e(f["a"],{attrs:{solo:"",items:t.dbSelectItems,dense:"","hide-details":"","full-width":""},model:{value:t.dbSelect,callback:function(e){t.dbSelect=e},expression:"dbSelect"}}),e(u["a"],{staticClass:"ml-2 white--text",attrs:{color:"secondary",width:"5px"},on:{click:function(e){return t.getCollections()}}},[e(n["a"],{attrs:{dark:""}},[t._v("mdi-refresh")])],1),e("div",{attrs:{id:"tableBarText"}},[e("h3",[t._v("Items: "+t._s(t.dbCount))])]),0==t.isPaused?e(u["a"],{staticClass:"ml-2 white--text",attrs:{color:"#ffb242",width:"125px"},on:{click:function(e){t.isPaused=!t.isPaused,t.getData()}}},[e(n["a"],{attrs:{left:"",dark:""}},[t._v("mdi-pause")]),t._v("Pause ")],1):t._e(),1==t.isPaused?e(u["a"],{staticClass:"ml-2 white--text",attrs:{color:"success",width:"125px"},on:{click:function(e){t.isPaused=!t.isPaused,t.getData()}}},[e(n["a"],{attrs:{left:"",dark:""}},[t._v("mdi-play")]),t._v("Start ")],1):t._e(),e(u["a"],{staticClass:"ml-2 white--text",attrs:{color:"success",width:"175px"},on:{click:function(e){return t.downloadCSV()}}},[e(n["a"],{attrs:{left:"",dark:""}},[t._v("mdi-content-save")]),t._v("Download ")],1)],1),e("div",{attrs:{id:"chartDiv"}},[e("LineChartGenerator",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})],1),e("div",{attrs:{id:"dataTable"}},[e(h["a"],{attrs:{headers:t.headers,items:t.data,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"items-per-page":-1,"fixed-header":"",height:"550px"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}}})],1)])},g=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"tableBarText"}},[e("h3",[t._v("Database Select:")])])}],b=(a("caad"),a("bc3a")),v=a.n(b),m=a("7b97"),x=a("9b4a");x["d"].register(x["o"],x["p"],x["f"],x["h"],x["i"],x["c"],x["k"]);var y={name:"test",props:{chartId:{type:String,default:"line-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},components:{LineChartGenerator:m["a"]},data(){return{mongoConnection:"http://192.168.238.17:3001",dbSelectItems:[],dbSelect:"",dbCount:0,data:[],isPaused:!1,id:[],headers:[{text:"Date",value:"Date",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"}],sortBy:"Date",sortDesc:!0,chartData:{labels:[],datasets:[{label:"",backgroundColor:"#80ccff",data:[],borderColor:"#80ccff"},{label:"",backgroundColor:"#ff8080",data:[],borderColor:"#ff8080"},{label:"",backgroundColor:"#80ff80",data:[],borderColor:"#80ff80"},{label:"",backgroundColor:"#ffff80",data:[],borderColor:"#ffff80"}]},chartOptions:{responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"index"},hover:{mode:"index"}},bg:["#80ccff","#ff8080","#80ff80","#ffff80"]}},methods:{getCollections(){v.a.get(this.mongoConnection+"/getCollections").then(t=>{this.dbSelectItems=t.data,""==this.dbSelect&&(this.dbSelect=this.dbSelectItems[0])})},getCount(){v.a.get(this.mongoConnection+"/collection/"+this.dbSelect+"/count").then(t=>{this.dbCount=t.data})},getData(){v.a.get(this.mongoConnection+"/collection/"+this.dbSelect).then(t=>{this.getCount();for(var e=t.data.length-1;e>t.data.length-100;e--){var a=t.data[e],s=new Date(a.Date),r=String(s.getDate()).padStart(2,"0"),o=String(s.getMonth()+1).padStart(2,"0"),n=s.getFullYear(),l=("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2);s=n+"-"+o+"-"+r+" "+l;var i={id:a._id,Date:s};a.Values.forEach((t,e)=>{if(null!=t){var a=!1;this.headers.forEach(e=>{e.text==t.Name&&(a=!0)}),a||(this.headers[e+1].text=t.Name,this.headers[e+1].value=t.Name,this.chartData.datasets[e].label=t.Name),i[t.Name]=t.Value}}),this.id.includes(a._id)||(this.data.push(i),this.id.push(a._id),this.chartData.labels.push(s),this.chartData.labels.length>30&&(this.data.shift(),this.chartData.labels.shift(),this.chartData.datasets[0].data.shift(),this.chartData.datasets[1].data.shift(),this.chartData.datasets[2].data.shift(),this.chartData.datasets[3].data.shift()),a.Values.forEach((t,e)=>{null!=t?this.chartData.datasets[e].data.push(t.Value):this.chartData.datasets[e].data.push("Null")}))}}),setTimeout(()=>{this.isPaused||this.getData()},1e3)},downloadCSV(){v.a.get(this.mongoConnection+"/collection/"+this.dbSelect+"/all").then(t=>{var e=[{text:"Date",value:"Date",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"}],a="";t.data.forEach(t=>{t.Values.forEach((t,a)=>{if(null!=t){var s=!1;e.forEach(e=>{e.text==t.Name&&(s=!0)}),s||(e[a+1].text=t.Name,e[a+1].value=t.Name)}})}),e.forEach((t,e)=>{a+=t.text,e!=this.headers.length-1&&(a+=",")}),a+="\n",t.data.forEach(t=>{var e=new Date(t.Date),s=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear(),n=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2);e=o+"-"+r+"-"+s+" "+n,a+=e+",",t.Values.forEach((e,s)=>{a+=null==e?" ":e.Value,s!=t.Values.length-1&&(a+=",")}),a+="\n"}),console.log(a);const s=document.createElement("a");s.href="data:text/csv;charset=utf-8,"+encodeURIComponent(a),s.target="_blank",s.download=this.dbSelect+".csv",s.click()})}},created(){this.getCollections()},watch:{dbSelect(){this.isPaused=!0,this.headers=[{text:"Date",value:"Date",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"},{text:"",value:"",align:"start"}],this.id=[],this.data=[],this.chartData.labels=[],this.chartData.datasets=[{label:"",backgroundColor:"#80ccff",data:[],borderColor:"#80ccff"},{label:"",backgroundColor:"#ff8080",data:[],borderColor:"#ff8080"},{label:"",backgroundColor:"#80ff80",data:[],borderColor:"#80ff80"},{label:"",backgroundColor:"#ffff80",data:[],borderColor:"#ffff80"}],setTimeout(()=>{this.isPaused=!1},1250),setTimeout(()=>{this.getData()},2e3)}}},C=y,D=(a("0661"),a("2877")),S=Object(D["a"])(C,p,g,!1,null,"7e8a1702",null),w=S.exports,_={name:"App",components:{Main:w},data:()=>({})},k=_,P=(a("f653"),Object(D["a"])(k,c,d,!1,null,null,null)),O=P.exports,I=a("f309");s["a"].use(I["a"]);var j=new I["a"]({iconfont:"md",theme:{options:{customProperties:!0},themes:{light:{primary:"#003366",secondary:"#1564BF",accent:"#cce5ff",border:"#ffffff"}}}});s["a"].config.productionTip=!1,new s["a"]({vuetify:j,render:t=>t(O)}).$mount("#app")},"89f9":function(t,e,a){},f653:function(t,e,a){"use strict";a("89f9")}});
//# sourceMappingURL=app.c965b3a7.js.map